<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center pageTitle ng-scope">
    <h1>{{pageTitle}}</h1>
</div>
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center pageTitle marginBottom20">
    <ol class="breadcrumb">
        <li><a ui-sref="/">Home</a></li>
        <li><a ui-sref="/EmployeeDetails">Employee</a></li>
        <li class="active">{{pageTitle}}</li>
    </ol>
</div>

<form name="addEmployeeForm" class="form" method="POST" novalidate="novalidate">
    
    <section>
		<ul ng-init="tab = 1" class="nav nav-tabs nav-justified">
			<li ng-class="{active:tab===1}"> 
				<a href ng-click="tab = 1"><h3>Personal Details</h3></a>	
			</li>
			<li ng-class="{active:tab===2}"> 
                <a href ng-click="tab = 2"><h3>Official Details</h3></a> 
			</li>
			<li ng-class="{active:tab===3}"> 
                <a href ng-click="tab = 3"><h3>Salary Details</h3></a> 
			</li></ul>	
			<br><br>
			<div ng-show="tab === 1" class="tab-pane">  
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 form">
                    <div class="field">
                        <label ng-show="addEmployee.employeeFirstName" class="show-hide">Employee First Name*</label>
                        <input type="text" placeholder="Employee First Name*" class="form-control" name="employeeFirstName" ng-model="addEmployee.employeeFirstName" ng-required="true" ng-class="{blankInput: addEmployeeForm.employeeFirstName.$error.required &amp;&amp; submit}" />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeMiddleName" class="show-hide">Employee Middle Name</label>
                        <input type="text" placeholder="Employee Middle Name" class="form-control" name="employeeMiddleName" ng-model="addEmployee.employeeMiddleName" />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeLastName" class="show-hide">Employee Last Name*</label>
                        <input type="text" placeholder="Employee Last Name*" class="form-control" name="employeeLastName" ng-model="addEmployee.employeeLastName" ng-required="true" ng-class="{blankInput: addEmployeeForm.employeeLastName.$error.required &amp;&amp; submit}" />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeCode" class="show-hide">Employee Code *</label>
                        <input type="text" placeholder="Employee Code *" class="form-control" name="employeeCode" ng-model="addEmployee.employeeCode" ng-required="true" ng-class="{blankInput: addEmployeeForm.employeeCode.$error.required &amp;&amp; submit}" />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeEmail" class="show-hide">Employee Email *</label>
                        <input type="text" placeholder="Email *" class="form-control" name="employeeEmail" ng-model="addEmployee.employeeEmail" ng-required="true" ng-class="{blankInput: addEmployeeForm.employeeEmail.$error.required &amp;&amp; submit}" />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeePassword" class="show-hide">Password *</label>
                        <input type="password" placeholder="Password*" class="form-control" name="employeePassword" ng-model="addEmployee.employeePassword" ng-required="true" ng-class="{blankInput: addEmployeeForm.employeePassword.$error.required &amp;&amp; submit}" />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeMobileNumber" class="show-hide">Mobile Number </label>
                        <input type="number" placeholder="Mobile Number" class="form-control" name="employeeMobileNumber" ng-model="addEmployee.employeeMobileNumber"  />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeAlternateNumber1" class="show-hide">Alternate Number 1</label>
                        <input type="number" placeholder="Alternate Number 1" class="form-control" name="employeeAlternateNumber1" ng-model="addEmployee.employeeAlternateNumber1" />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeAddress" class="show-hide">Adress </label>
                        <input type="text" placeholder="Adress" class="form-control" name="employeeAddress" ng-model="addEmployee.employeeAddress"  />
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 form"><br>
                    <div class="field has-feedback" >
                        <label ng-show="addEmployee.employeeDob" class="show-hide">D.O.B. (DD/MM/YYYY)</label>
                    <datepicker date-format="dd/MM/yyyy">
                        <input ng-model="addEmployee.employeeDob" placeholder="D.O.B. (DD/MM/YYYY) " class="form-control" name="employeeDob"  type="text" />
                        <i class="form-control-feedback glyphicon glyphicon-calendar"></i>
                    </datepicker>
                    </div><br><br>
                    <div class="field has-feedback">
                        <label ng-show="addEmployee.employeeDoj" class="show-hide">Date of Joining (DD/MM/YYYY) </label>
                        <datepicker date-format="dd/MM/yyyy" >
                        <input ng-model="addEmployee.employeeDoj" placeholder="Date of Joining (DD/MM/YYYY) " class="form-control" name="employeeDoj" type="text" />
                        <i class="form-control-feedback glyphicon glyphicon-calendar"></i>
                        </datepicker> 
                    </div><br>
                    <div class="field">
                        <label ng-show="addEmployee.employeeAlternateEmail" class="show-hide">Alternate Email</label>
                        <input type="text" placeholder="Alternate Email" class="form-control" name="employeeAlternateEmail" ng-model="addEmployee.employeeAlternateEmail" />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeHobbies" class="show-hide">Hobbies </label>
                        <input type="text" placeholder="Hobbies " class="form-control" name="employeeHobbies" ng-model="addEmployee.employeeHobbies"  />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeSpouseName" class="show-hide">Spouse Name </label>
                        <input type="text" placeholder="Spouse Name " class="form-control" name="employeeSpouseName" ng-model="addEmployee.employeeSpouseName"  />
                    </div>
                    <div class="field has-feedback">
                        <label ng-show="addEmployee.employeeSpouseDob" class="show-hide">Spouse D.O.B. (DD/MM/YYYY)</label>
                        <datepicker date-format="dd/MM/yyyy">
                        <input type="text" placeholder="Spouse D.O.B. (DD/MM/YYYY)" class="form-control" name="employeeSpouseDob" ng-model="addEmployee.employeeSpouseDob"/>
                        <i class="form-control-feedback glyphicon glyphicon-calendar"></i>
                    </datepicker>         
                    </div><br>
                    <div class="field">
                        <label ng-show="addEmployee.employeeSpouseAadhar" class="show-hide">Spouse Aadhar </label>
                        <input type="text" placeholder="Spouse Aadhar " class="form-control" name="employeeSpouseAadhar" ng-model="addEmployee.employeeSpouseAadhar"  />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeSpousePan" class="show-hide">Spouse Pan </label>
                        <input type="text" placeholder="Spouse Pan " class="form-control" name="employeeSpousePan" ng-model="addEmployee.employeeSpousePan"  />
                    </div>
                    <div class="field">
                    <label ng-show="addEmployee.employeeChildrenNo" class="show-hide">Select No. Of Children</label>
                    <select class="form-control" name="employeeChildrenNo" ng-model="addEmployee.employeeChildrenNo" title="No. of Children" ng-change="appendFields(addEmployee.employeeChildrenNo)" >
                    <option value="">
                       No. of Children
                    </option>
                    <option value="1">
                       1
                    </option>
                    <option value="2">
                       2
                    </option>
                    <option value="3">
                       3
                    </option>
                    <option value="4">
                       4
                    </option>
                 </select>
                </div>
                <div id="children"></div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center ctaContainer">
                    <button class="btn btn-primary" type="button"  ng-click="tab = 2">Next</button>
                </div>
            </div>
        
			<div ng-show="tab === 2" class="tab-pane"> 
                 <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                <div class="field">
                    <label ng-show="addEmployee.employeeRole" class="show-hide">Role</label>
                    <select class="form-control" name="employeeRole" ng-model="addEmployee.employeeRole" >
                    <option value="">
                       Select Role
                    </option>
                    <option ng-repeat="x in rolesList" value="{{x.role_id}}">
                       {{x.role_name}}
                    </option>
                 </select>
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeDepartment" class="show-hide">Department</label>
                    <select class="form-control" name="employeeDepartment" ng-model="addEmployee.employeeDepartment" >
                    <option value="">
                       Select Department
                    </option>
                    <option ng-repeat="x in parentDepartmentList" value="{{x.dept_id}}">
                       {{x.dept_name}}
                    </option>
                 </select>
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeDesignation" class="show-hide">Designation</label>
                    <select class="form-control" name="employeeDesignation" ng-model="addEmployee.employeeDesignation" >
                    <option value="">
                       Select designation
                    </option>
                    <option ng-repeat="x in designationList" value="{{x.designation_id}}">
                       {{x.designation}}
                    </option>
                 </select>
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeSourceOfRecruit" class="show-hide">Source Of Recruitment </label>
                    <input type="text" placeholder="Source Of Recruitment " class="form-control" name="employeeSourceOfRecruit" ng-model="addEmployee.employeeSourceOfRecruit"  />
                    </div></div>
             </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 form">
                <div class="field">
                        <label ng-show="addEmployee.employeeReference1Name" class="show-hide">Reference 1 Name </label>
                        <input type="text" placeholder="Reference 1 Name " class="form-control" name="employeeReference1Name" ng-model="addEmployee.employeeReference1Name"  />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeReference1ContactNumber" class="show-hide">Reference 1 Contact Number </label>
                        <input type="text" placeholder="Reference 1 Contact Number " class="form-control" name="employeeReference1ContactNumber" ng-model="addEmployee.employeeReference1ContactNumber"  />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeReference1Email" class="show-hide">Reference 1 Email Address </label>
                        <input type="email" placeholder="Reference 1 Email Address " class="form-control" name="employeeReference1Email" ng-model="addEmployee.employeeReference1Email"  />
                    </div>
                    <div class="field">
                        <label ng-show="addEmployee.employeeReference1Address" class="show-hide">Reference 1 Address </label>
                        <input type="text" placeholder="Reference 1 Address " class="form-control" name="employeeReference1Address" ng-model="addEmployee.employeeReference1Address"  />
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 form">
                    <div class="field">
                    <label ng-show="addEmployee.employeeReference2Name" class="show-hide">Reference 2 Name </label>
                    <input type="text" placeholder="Reference 2 Name " class="form-control" name="employeeReference2Name" ng-model="addEmployee.employeeReference2Name"  />
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeReference2ContactNumber" class="show-hide">Reference 2 Contact Number </label>
                    <input type="text" placeholder="Reference 2 Contact Number " class="form-control" name="employeeReference2ContactNumber" ng-model="addEmployee.employeeReference2ContactNumber"  />
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeReference2Email" class="show-hide">Reference 2 Email Address </label>
                    <input type="email" placeholder="Reference 2 Email Address " class="form-control" name="employeeReference2Email" ng-model="addEmployee.employeeReference2Email" />
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeReference2Address" class="show-hide">Reference 2 Address </label>
                    <input type="text" placeholder="Reference 2 Address " class="form-control" name="employeeReference2Address" ng-model="addEmployee.employeeReference2Address" />
                </div>
                </div>
                     <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center ctaContainer">
                    <button class="btn btn-primary" type="button"  ng-click="tab = 3">Next</button>
               
            </div>
            </div>
			<div ng-show="tab === 3" class="tab-pane"> 
                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 form">
                       <div class="field">
                    <label ng-show="addEmployee.employeePanNumber" class="show-hide">Pan Number </label>
                    <input type="text" placeholder="Pan Number " class="form-control" name="employeePanNumber" ng-model="addEmployee.employeePanNumber"  />
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeAadharNumber" class="show-hide">Aadhar Number </label>
                    <input type="number" placeholder="Aadhar Number " class="form-control" name="employeeAadharNumber" ng-model="addEmployee.employeeAadharNumber"  />
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeCtc" class="show-hide">C.T.C </label>
                    <input type="number" placeholder="C.T.C " class="form-control" name="employeeCtc" ng-model="addEmployee.employeeCtc"  />
                    <button ng-show="editEmployeeBtn" type="button" class="btn btn-primary" ng-click="ctcDetail(addEmployee)">Show Details</button>
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeNetSalary" class="show-hide">Net Salary </label>
                    <input type="number" placeholder="Net Salary " class="form-control" name="employeeNetSalary" ng-model="addEmployee.employeeNetSalary"  />
                </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 form">
                <div class="field">
                    <label ng-show="addEmployee.employeeBankName" class="show-hide">Bank Name </label>
                    <input type="text" placeholder="Bank Name " class="form-control" name="employeeBankName" ng-model="addEmployee.employeeBankName"  />
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeBankBranch" class="show-hide">Bank Branch </label>
                    <input type="text" placeholder="Bank Branch " class="form-control" name="employeeBankBranch" ng-model="addEmployee.employeeBankBranch"  />
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeBankAccountNo" class="show-hide">Bank Account Number </label>
                    <input type="text" placeholder="Bank Account Number " class="form-control" name="employeeBankAccountNo" ng-model="addEmployee.employeeBankAccountNo"  />
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeBankAddress" class="show-hide">Bank Address </label>
                    <input type="text" placeholder="Bank Address " class="form-control" name="employeeBankAddress" ng-model="addEmployee.employeeBankAddress"  />
                </div>
                <div class="field">
                    <label ng-show="addEmployee.employeeBankIfscCode" class="show-hide">Bank Ifsc Code </label>
                    <input type="text" placeholder="Bank Ifsc Code " class="form-control" name="employeeBankIfscCode" ng-model="addEmployee.employeeBankIfscCode"  />
                </div>
        </div>
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center ctaContainer">       
        <button type="button" class="btn btn-success" ng-click="addEmployee(addEmployee,'addEmployeeForm')" ng-show="addEmployeeBtn">Save Employee</button>
        <button type="button" class="btn btn-success" ng-click="editEmployee(addEmployee,'addEmployeeForm')" ng-show="editEmployeeBtn">Update Employee</button>
    </div>
            </div>		
	</section>		
    
</form>
<script type="text/ng-template" id="ctcDetail.html">
    <div class="modal-header">
        <button type="button" class="close" ng-click="ok()">&times;</button>
        <h3 class="modal-title" id="modal-title">{{empObject.employeeFirstName}} {{empObject.employeeMiddleName}} {{empObject.employeeLastName}}</h3>
        <h3 class="modal-title" id="modal-title">Current CTC : {{empObject.employeeCtc}}</h3>
    </div>
    <div class="modal-body" id="modal-body">
        <div class="subHeading">Salary Component Details</div>

        <div>
            <table class="table borderDef">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Component Name</th>
                        <th>Component Code</th>
                        <th>Formula Type</th>
                        <th>Monthly</th>
                        <th>Annual</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="projectList">
                    <tr ng-repeat="unit in salaryComponentDetails track by $index">
                        <td>{{$index + 1}}</td>
                        <td>{{unit.SalHeads_Name}}</td>
                        <td>{{unit.SalHead_Code}}</td>
                        <td><div ng-show="unit.SalHead_CalTyp == 0">{{unit.SalHead_CalTypVal}}</div></td>
                        <td>{{unit.UserSalheadsCalcValue / 12 | number : 2}}</td>
                        <td><input type="number" value="{{unit.UserSalheadsCalcValue}}" id="{{unit.SalHead_Code}}{{unit.UserSalheads_SalHeadsId}}" disabled></td>
                        <td><button type="button" class="btn btn-primary" ng-click="editSalaryComponent(unit.SalHead_Code, unit.UserSalheads_SalHeadsId)">Edit</button> <button type="button" class="btn btn-primary" ng-click="saveSalaryComponent(unit.SalHead_Code, unit.UserSalheads_SalHeadsId, unit.UserSalheads_SalHeadsId)" disabled id="button{{unit.SalHead_Code}}">Save</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="ok()">Done</button>
    </div>
</script>